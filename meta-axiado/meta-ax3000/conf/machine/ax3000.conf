# Copyright (c) 2021-22 Axiado Corporation (or its affiliates). All rights reserved.
# Use, modification and redistribution of this file is subject to your possession
# of a valid End User License Agreement (EULA) for the Axiado Product of which
# these sources are part of and your compliance with all applicable terms and
# conditions of such licence agreement.

KMACHINE = "ax3000"
KERNEL_DEVICETREE = "axiado/${KMACHINE}-evk.dtb"

PREFERRED_PROVIDER_u-boot = "u-boot-axiado"
PREFERRED_PROVIDER_virtual/bootloader = "u-boot-axiado"
 
UBOOT_MACHINE = "ax3000_evk_defconfig"

require conf/machine/include/axiado.inc
require conf/machine/include/ax3000.inc
require conf/distro/include/phosphor-mmc.inc

FLASH_SIZE = "32768"
SERIAL_CONSOLES = "115200;ttyPS3"
OBMC_ORG_YAML_SUBDIRS:append:ax3000 = " com/axiado"

OBMC_IMAGE_EXTRA_INSTALL:append = " python3 python3-flask"
INITRAMFS_MAXSIZE = "431072"
OBMC_COMPATIBLE_NAMES = "ax3000"
EXTENDED_VERSION = "${DISTRO_VERSION}"
RDEPENDS:${PN}-devtools:remove = "trace-enable"
